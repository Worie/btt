### Getting started

## Installing BetterTouchTool and setting up webserver

### For new BetterTouchTool users

To get started - install BetterTouchTool from [here](http://folivora.ai/). If you need help visit [community forum](https://community.folivora.ai/).

### For existing BetterTouchTool users
If you have already installed BTT and **you did not configure webserver yet** - you can simply import the config via visiting a link and confirm the prompt that'll pop up: [click here to import default webserver config](btt://jsonimport/ewogICJCVFRQcmVzZXROYW1lIiA6ICJ3ZWJzZXJ2ZXItc2V0dXAiLAogICJCVFRHZW5lcmFsU2V0dGluZ3MiIDogewogICAgIkJUVFBhdGhTYW1wbGVTaXplIiA6IDEwMCwKICAgICJCVFRIVFRQU2VydmVyUG9ydCIgOiA2NDQ3MiwKICAgICJCVFRDTU9uVG9wIiA6IHRydWUsCiAgICAiQlRUVGhyZWVGaW5nZXJEcmFnQ29tcGF0aWJpbGl0eU1vZGUiIDogMSwKICAgICJCVFRGb3JjZUZvcmNlQ2xpY2tQcmVzc3VyZTJGIiA6IDcwMCwKICAgICJCU1RHYXBBYm92ZURvY2siIDogNywKICAgICJCVFRIVFRQU2VydmVyRW5jcnlwdGVkIiA6IGZhbHNlLAogICAgIkJUVE1pbkRyYXdpbmdNb3ZlbWVudCIgOiAyLAogICAgImRpc2FibGVTY3JvbGxpbmdJZjIiIDogdHJ1ZSwKICAgICJiYXR0ZXJ5V2FybmluZyIgOiBmYWxzZSwKICAgICJCU1REb250U2hvd1NuYXBBcmVhc1doaWxlTW9kTW92aW5nIiA6IDAsCiAgICAiQlRUU2F2ZWRNb3VzZVBvc2l0aW9uIiA6ICJ7NDU5LjA1MDc4MTI1LCA0ODguNjc5Njg3NX0iLAogICAgIkJTVFdpbmRvd0dyYWJQb3NZIiA6IDEwLAogICAgInNob3dUcmFja3BhZFRhYiIgOiB0cnVlLAogICAgIkJUVERyYXdpbmdTdHJva2VXaWR0aCIgOiAiNSIsCiAgICAiY29ybmVyU25hcCIgOiBmYWxzZSwKICAgICJCVFJTY3JvbGxTcGVlZCIgOiAiMS4wMDAwMDAiLAogICAgInNpbmdsZUZpbmdlclRhcFJpZ2h0IiA6IDAuMDUwMDAwMDAwNzQ1MDU4MDYsCiAgICAiU0lSSU1vdXNlU3BlZWQiIDogMSwKICAgICJzaG93RHJhd2luZ3NUYWIiIDogdHJ1ZSwKICAgICJCVFRIVFRQU2VydmVyTGlzdGVuSW50ZXJmYWNlIiA6ICIxMjcuMC4wLjEiLAogICAgInVzZUFwcGxlUmVtb3RlUGx1Z2luIiA6IGZhbHNlLAogICAgIkJUVFRvdWNoQmFyRm9udFNpemUiIDogMTUsCiAgICAiQlNUU25hcEFyZWFEZWZhdWx0UGljdG9EaXN0YW5jZUZyb21Cb3R0b20iIDogMC4xMDAwMDAwMDE0OTAxMTYxMiwKICAgICJCVFJNb3VzZVNwZWVkIiA6ICIwLjY3MjAwNyIsCiAgICAiQlNUUHJldmVudFRvcE1pc3Npb25Db250cm9sIiA6IGZhbHNlLAogICAgIkJTVFNuYXBBcmVhRGVmYXVsdERhc2hlZEJvcmRlciIgOiBmYWxzZSwKICAgICJCVFRFbmFibGVQYWxtUmVjb2duaXRpb24iIDogdHJ1ZSwKICAgICJCVFRSZXZlcnNlU2Nyb2xsaW5nT25Ob3JtYWxNaWNlIiA6IHRydWUsCiAgICAiZnVuY3Rpb25Nb3ZlIiA6IGZhbHNlLAogICAgIkJUVEFsbG93VGh1bWJJZkFsbEZpbmdlcnNBcmVQbGFjZWRTaW11bHRhbmVvdXNseSIgOiB0cnVlLAogICAgIkJUVFJlbW90ZUVuYWJsZWQiIDogdHJ1ZSwKICAgICJCVFRFbmFibGVTeXN0ZW1UaHJlZUZpbmdlclVwRG93biIgOiB0cnVlLAogICAgIkJUVENNSGlkZU9uQmx1ciIgOiB0cnVlLAogICAgIm5leHRNb25pdG9yTW92ZVdhcm5pbmdTaG93ZWQiIDogdHJ1ZSwKICAgICJvbGRTY2FsZSIgOiAxLAogICAgIkJUVFNob3dDb250cm9sU3RyaXBJdGVtIiA6IGZhbHNlLAogICAgIkJTVFNuYXBBcmVhRGVmYXVsdENvcm5lclJhZGl1cyIgOiAyMCwKICAgICJCVFRMYXN0U2NyZWVuc2hvdERhdGVGb3JtYXQiIDogInl5eXktTU0tZGQgSEgubW0uc3MiLAogICAgIkJUVE1vdmVQYXN0ZWRUb1RvcCIgOiB0cnVlLAogICAgIkJUVE1heEFsbG93ZWREcmF3aW5nUm90YXRpb24iIDogMTQuMzkwMTM4NDA4MzA0NDkzLAogICAgIkJUVERpZFJlZ2lzdGVyRm9yVXBkYXRlU3RhdHMiIDogIjIuNjQ2IiwKICAgICJCVFRSZWNvcmRDb25jZWFsZWRUeXBlcyIgOiBmYWxzZSwKICAgICJCVFRUcEZvdXJGaW5nZXJTd2lwZVNlbnNpdGl2aXR5IiA6IDAuNDAwMDAwMDAwMDAwMDAwMDIsCiAgICAiQlRUTnVtYmVyT2ZTdGFydHMiIDogODk1OCwKICAgICJCVFRGb3JjZU5vcm1hbENsaWNrUHJlc3N1cmUzRiIgOiAxNTAsCiAgICAic2hvd1NpcmlSZW1vdGVUYWIiIDogdHJ1ZSwKICAgICJTSVJJU2Nyb2xsU3BlZWQiIDogMSwKICAgICJCVFRTaG93Q29udHJvbFN0cmlwIiA6IGZhbHNlLAogICAgIlNIT1dFREhJREVNRU5VQkFSV0FSTklORyIgOiB0cnVlLAogICAgInNjcm9sbEJsb2NrV2FybmluZ1Nob3duIiA6IHRydWUsCiAgICAidHBUaHJlZUZpbmdlckRvdWJsZVRhcERlbGF5IiA6IDAuNSwKICAgICJzaG93Tm9ybWFsTWljZVRhYiIgOiB0cnVlLAogICAgIkJUVEhpZGVHbG9iYWxUb3VjaEJhckFjdGlvbnNBcHBTcGVjaWZpYyIgOiBmYWxzZSwKICAgICJCU1RTbmFwQXJlYURlZmF1bHRCb3JkZXJXaWR0aCIgOiAzLAogICAgIkJUVEZvcmNlTm9ybWFsQ2xpY2tQcmVzc3VyZSIgOiAxNTAsCiAgICAiQlRUVG91Y2hCYXJIYXB0aWNGZWVkYmFjayIgOiAyMiwKICAgICJCVFREcmF3aW5nUmlnaHRNb3VzZSIgOiBmYWxzZSwKICAgICJCVFRDb252ZXJ0ZWREZXZpY2VzIiA6IHRydWUsCiAgICAiQlRUVGhyZWVGaW5nZXJUaXBUYXBNaW5TcHJlYWQiIDogMC4wMjk5OTk5OTk5OTk5OTk5OTksCiAgICAiQlRUVG91Y2hCYXJWaXNpYmxlIiA6IHRydWUsCiAgICAiQlRUSU1HVVJEZWZhdWx0IiA6IHRydWUsCiAgICAiQlNUU25hcEFyZWFEZWZhdWx0QmFja2dyb3VuZENvbG9yIiA6ICIxMjkuOTg4ODM2LCAyMDEuMTI2NTM2LCAyMjcuMDEzOTg1LCAxMDQuNTUwMDAwIiwKICAgICJCU1RTbmFwQXJlYURlZmF1bHRQaWN0b1NpemUiIDogMC42OTk5OTk5ODgwNzkwNzEwNCwKICAgICJCU1RTbmFwQXJlYURlZmF1bHRCb3JkZXJDb2xvciIgOiAiMC4wMDAwMDAsIDAuMDAwMDAwLCAwLjAwMDAwMCwgMjU1LjAwMDAwMCIsCiAgICAiQlNUVG9wTWlzc2lvbkNvbnRyb2xUcmVzaG9sZCIgOiAzNCwKICAgICJCU1RTbmFwQXJlYURlZmF1bHRIaWdobGlnaHRDb2xvciIgOiAiOTIuNjI0Mjg2LCAxMjIuNjUwNDExLCAxNjEuNjY1NTc4LCA1Ni4xMDAwMDAiLAogICAgIkJUVEZvcmNlRm9yY2VDbGlja1ByZXNzdXJlNUYiIDogNjAwLAogICAgIkJUVENNU2hvd0RvY2tJY29uIiA6IGZhbHNlLAogICAgIkJUVEZvcmNlRm9yY2VDbGlja1ByZXNzdXJlIiA6IDcwMCwKICAgICJCU1RNZW1vcnlTYXZlciIgOiBmYWxzZSwKICAgICJCVFRMYXN0Q2xhbXNoZWxsU3RhdGUiIDogZmFsc2UsCiAgICAiQlRUU2hvd0JUVFdoZW5Db250cm9sU3RyaXBIaWRkZW4iIDogZmFsc2UsCiAgICAiQlRURnJlZVNwYWNlQWZ0ZXJFU0MiIDogMTAsCiAgICAibW1ab29tUmVwZWF0RGVsYXkiIDogMC4xMDAwMDAwMDAwMDAwMDAwMSwKICAgICJCVElNR1VSRXhwaXJ5IiA6IDg3Mjc2MDU1Ni41NDk0ODYwNCwKICAgICJCVFREcmF3aW5nQXJlYVdpZHRoIiA6ICIwIiwKICAgICJCVFRUaWx0V2hlZWxEZWxheSIgOiAwLjQ0OTk5OTk4ODA3OTA3MTA0LAogICAgImNvbnRyb2xNb3ZlIiA6IGZhbHNlLAogICAgInR3b0ZpbmdlckRvdWJsZVRhcERlbGF5IiA6IDAuNSwKICAgICJCVFRGb3JjZU5vcm1hbENsaWNrUHJlc3N1cmU1RiIgOiAyMDAsCiAgICAiQlRUVG91Y2hCYXJDaGVja2VkIiA6IHRydWUsCiAgICAiQlRUU2hvd0VTQ1doZW5Db250cm9sU3RyaXBIaWRkZW4iIDogdHJ1ZSwKICAgICJCVFRGaWx0ZXJNYWdpY01vdXNlTGVmdFJpZ2h0RWRnZSIgOiB0cnVlLAogICAgInNob3dCVFRSZW1vdGVUYWIiIDogdHJ1ZSwKICAgICJCVFRMZWF2ZVN5c3RlbUFwcHNJbkNvbnRyb2xTdHJpcCIgOiBmYWxzZSwKICAgICJCVFREcmF3aW5nc0hpZ2hsaWdodFN0YXJ0UG9pbnQiIDogdHJ1ZSwKICAgICJCVFRUb3VjaEJhckdsb2JhbFBvc2l0aW9uIiA6IDIsCiAgICAiQlRURW5hYmxlVXNhZ2VMb2dnaW5nIiA6IHRydWUsCiAgICAiQlRUU2NyZWVuc2hvdE9wZW5JbWd1ckluQnJvd3NlciIgOiBmYWxzZSwKICAgICJCVFRGb3JjZU5vcm1hbENsaWNrUHJlc3N1cmUyRiIgOiAxNDAsCiAgICAiQlNUU25hcEFyZWFEZWZhdWx0SW52aXNpYmxlIiA6IGZhbHNlLAogICAgIkJUVERyYXdpbmdBcmVhSGVpZ2h0IiA6ICIwIiwKICAgICJCVFRMYXN0U2NyZWVuc2hvdE9wdGlvbnMiIDogIi1pOzstbzs7LXQ7O3BuZzs7QlRURWRpdEluQlRUOztcL1VzZXJzXC9Xb3JpZVwvUGljdHVyZXNcL1NjcmVlblNob3RzXC9idHQtc3Nfe2RhdGV0aW1lfV97cmFuZG9tfS5wbmc7OyIsCiAgICAiQlRURm9yY2VGb3JjZUNsaWNrUHJlc3N1cmU0RiIgOiA2NTAsCiAgICAiQlRUVG91Y2hCYXJVc2VNb25vU3BhY2VkRm9udCIgOiB0cnVlLAogICAgIkJTVENvcm5lclJvdW5kbmVzcyIgOiA0MCwKICAgICJCVFRGb3JjZUZvcmNlSGFwdGljUmVzcG9uc2UiIDogMTMsCiAgICAic2hvd01hZ2ljTW91c2VUYWIiIDogdHJ1ZSwKICAgICJCVFRGb3JjZWRIaWRkZW4iIDogZmFsc2UsCiAgICAic2hvd1RvdWNoQmFyVGFiIiA6IHRydWUsCiAgICAiQlRURnJlZVNwYWNlQWZ0ZXJCVFQiIDogMjAsCiAgICAiQlRUVHdvRmluZ2VyVGlwVGFwTWluU3ByZWFkIiA6IDAuMDI5OTk5OTk5OTk5OTk5OTk5LAogICAgIkJUVERpc21pc3NJZk5vdGhpbmdUb1Nob3ciIDogZmFsc2UsCiAgICAiQlRURHJhd2luZ3NSZXN0b3JlTW91c2VQb3NpdGlvbiIgOiB0cnVlLAogICAgIkJTVERpc2FibGVTbmFwQXJlYXMiIDogdHJ1ZSwKICAgICJCVFREZWZhdWx0VEJJY29uV2lkdGgiIDogMjIsCiAgICAiQlRUQ2xpcGJvYXJkRnJhbWUiIDogInt7MzAxLCAxOTJ9LCB7Njc4LCA0MTd9fSIsCiAgICAic2hpZnRNb3ZlIiA6IGZhbHNlLAogICAgIkJTVExlYXZlR2FwQWJvdmVEb2NrIiA6IGZhbHNlLAogICAgIkJTVFNuYXBBcmVhRGVmYXVsdFNob3dQaWN0b2dyYW0iIDogZmFsc2UsCiAgICAiQlRUU2VsZWN0ZWRLZXlib2FyZFRhYkluZGV4IiA6IDAsCiAgICAiZnVuY3Rpb25TbG93IiA6IGZhbHNlLAogICAgIkJUVFRvdWNoQmFyS2VlcEljb25SYXRpbyIgOiBmYWxzZSwKICAgICJmdW5jdGlvblJlc2l6ZSIgOiBmYWxzZSwKICAgICJzaG93S2V5Ym9hcmRUYWIiIDogdHJ1ZSwKICAgICJCVFRGb3JjZUZvcmNlQ2xpY2tQcmVzc3VyZTNGIiA6IDcwMCwKICAgICJzbG93U3BlZWQiIDogMzUsCiAgICAiZGlzYWJsZVNjcm9sbGluZ0lmMyIgOiB0cnVlLAogICAgIkJTVFdpbmRvd0dyYWJQb3NYIiA6IDY3LAogICAgIkJUVEhhbmRsZVRodW1ic1Jlc3RpbmdPblRvcEVkZ2VBbmRDb3JuZXJzIiA6IHRydWUsCiAgICAiQlRUQXV0b1N3aXRjaFRvT2xkS2V5Ym9hcmRJbXBsZW1lbnRhdGlvbiIgOiBmYWxzZSwKICAgICJjb250cm9sUmVzaXplIiA6IGZhbHNlLAogICAgIkJUVFdpbmRvd1NuYXBwaW5nSGlnaFBlcmZvcm1hbmNlTW9kZSIgOiB0cnVlLAogICAgIkJUVFRwVGhyZWVGaW5nZXJTd2lwZVNlbnNpdGl2aXR5IiA6IDAsCiAgICAiQlRUQ29weUltZ3VyVVJMVG9DbGlwYm9hcmQiIDogdHJ1ZSwKICAgICJCVFRGb3JjZU5vcm1hbEhhcHRpY1Jlc3BvbnNlIiA6IDEyLAogICAgIkJUVFRvdWNoQmFyU3VwcG9ydEVuYWJsZWQiIDogdHJ1ZSwKICAgICJCVFJNZXNzYWdlQ2hhbmdlU2Nyb2xsRGlyZWN0aW9uIiA6IDAsCiAgICAiQlRURGF5c1RvS2VlcEhpc3RvcnkiIDogMTQsCiAgICAiQlRURGVmYXVsdFRCSWNvbkhlaWdodCIgOiAyMiwKICAgICJzaW5nbGVGaW5nZXJUYXBMZWZ0IiA6IDAuNDQ5OTk5OTg4MDc5MDcxMDQsCiAgICAiQlRUQ2xpcGJvYXJkTWFuYWdlck1vbml0b3IiIDogMCwKICAgICJCVFRGb3JjZU5vcm1hbENsaWNrUHJlc3N1cmU0RiIgOiAxNzUsCiAgICAiQlNUU25hcEFyZWFEZWZhdWx0QW5pbWF0aW9uRHVyYXRpb24iIDogMC4zMDAwMDAwMTE5MjA5Mjg5NiwKICAgICJCVFRIVFRQU2VydmVyRW5hYmxlZCIgOiB0cnVlLAogICAgInBsdWdpbkRpY3Rpb25hcnkiIDogewogICAgICAiMSIgOiB7CiAgICAgICAgIkFwcGxlIFJlbW90ZSBQbHVnaW4iIDogewogICAgICAgICAgIjEwIiA6ICJQbGF5XC9QYXVzZSwgSG9sZGluZyAob25seSBvbiBhbHVtaW51bSByZW1vdGUpIiwKICAgICAgICAgICIyIiA6ICJVcCwgSG9sZGluZyIsCiAgICAgICAgICAiMyIgOiAiRG93biIsCiAgICAgICAgICAiMTEiIDogIk1lbnUiLAogICAgICAgICAgIjQiIDogIkRvd24sIEhvbGRpbmciLAogICAgICAgICAgIjUiIDogIkxlZnQiLAogICAgICAgICAgIjEyIiA6ICJNZW51LCBIb2xkaW5nIiwKICAgICAgICAgICI2IiA6ICJMZWZ0LCBIb2xkaW5nIiwKICAgICAgICAgICIxMyIgOiAiQ2VudGVyIiwKICAgICAgICAgICI3IiA6ICJSaWdodCIsCiAgICAgICAgICAiOCIgOiAiUmlnaHQsIEhvbGRpbmciLAogICAgICAgICAgIjE0IiA6ICJDZW50ZXIsIEhvbGRpbmciLAogICAgICAgICAgIjEiIDogIlVwIiwKICAgICAgICAgICI5IiA6ICJQbGF5XC9QYXVzZSAob25seSBvbiBhbHVtaW51bSByZW1vdGUpIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJzaG93T3RoZXJUcmlnZ2Vyc1RhYiIgOiB0cnVlLAogICAgIkJTVFNuYXBBcmVhRGVmYXVsdFBpY3RvRGlzdGFuY2VGcm9tTGVmdCIgOiAwLjEwMDAwMDAwMTQ5MDExNjEyCiAgfSwKICAiQlRUUHJlc2V0VVVJRCIgOiAiNkY0MjY4OEYtMTg1Ny00MjVFLTk2NjgtMTI1NjFBRkZGNEIzIiwKICAiQlRUUHJlc2V0Q29udGVudCIgOiBbCiAgICB7CiAgICAgICJCVFRBcHBCdW5kbGVJZGVudGlmaWVyIiA6ICJCVC5HIiwKICAgICAgIkJUVEFwcE5hbWUiIDogIkdsb2JhbCIsCiAgICAgICJCVFRUcmlnZ2VycyIgOiBbCgogICAgICBdCiAgICB9LAogICAgewogICAgICAiQlRUQXBwQnVuZGxlSWRlbnRpZmllciIgOiAiY29tLmFwcGxlLmZpbmRlciIsCiAgICAgICJCVFRBcHBOYW1lIiA6ICJGaW5kZXIiLAogICAgICAiQlRUVHJpZ2dlcnMiIDogWwoKICAgICAgXQogICAgfQogIF0sCiAgIkJUVFByZXNldFNuYXBBcmVhcyIgOiBbCgogIF0KfQ==)

<!-- The code above is base64 encoded btt preset that contains config which enables btt webserver without preshared key -->

If you have webserver already configured - you'd need to configure it as follows so the rest of this guide works well for you. Please override the `window.config` variable to match your config if you want use the guide any further, for example, in devtools:

```js
window.config = {
  domain: '127.0.0.1',
  port: '8888',
  protocol: 'https',
  sharedKey: 'ABCDEFGHIJKLMNOPRSTUVWXYZ',
};
```

The changes will get saved to your `localStorage` on current website, so you won't have to update the config for each page of the guide. 

::: warning
Keep in mind - you have to assign **new object** to `window.config`. Otherwise, setter on the property won't fire and your config will not be saved to local storage.
:::

## Testing it out

Alright! Time to verify whether you made it work :) Try to play with `btt` instance in devtools, for example:

```js
btt.showNotification({title: 'Okay!', content: 'It works 🎉'}).invoke();
```

Works? Great! If not, please verify your config and ensure that BetterTouchTool is running (restart may be required after changing webserver config).

## Staying secure

::: warning
Beware! Allowing to access low level functionalities from web is **always** risky. There are however many things that you can to in order to stay secure.
:::

### Use https

BetterTouchTool allows you to set up an https certificate for the webserver - you will need to trust `BetterTouchToolRemote_new` certificate in your keychain to prevent errors in your browser.

HTTPS prevents intruders from being able to passively listen to communications between your websites and your users (you in that case).

::: tip
For more, please visit [mdn](https://developer.mozilla.org/en-US/docs/Glossary/https) or [google web fundamentals](https://developers.google.com/web/fundamentals/security/encrypt-in-transit/why-https).
:::

### Use shared key

As an additional security measure, BTT allows you set up a shared key which is stored in your Apple Keychain under the hood. Definining it allows to invoke only the `GET` requests which includes `&shared_key=YOUR_KEY` parameter. Combining this with other ways to stay secure allows you to be pretty much secure on the web.

### Change the default port

Network protocols can be defined in range `0-65535` - however, ports from `0` to `1023` are considered as *well known ports*, and are used to and identify the historically most commonly used services.

Basically, any port that you set up in range between `1023 - 65535` should work - if you want you can look up the [list of tcp and udp port numbers](https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers) to make sure you do not interfere with other technologies.

### Listen on specific IP

By default, BTT webserver is only accessible from localhost (`127.0.0.1`) which is good - because no one will be able to connect to you from you local LAN network. But due to fact that you can visit any website which someone sends - and this website can access your localhost then, because you're visiting it from your computer - sometimes it might be a better idea to set up a static IP address in you LAN to secure yourself from websites that may want to exploit the fact that you're using `localhost` listening only.

Surely, it makes you accessible through LAN - but pretty much ensures that no website will be able to communicate with your webserver at all, if you don't want to.

::: danger
Don't set up port forwarding! If you ever need to set up a BTT over WAN, please consider using `btt-node-server` as additional security layer, and connect to your BTT through it
:::

### Set up blacklist of actions

`btt.js` allows you to set up a blacklist of actions that will not be performed upon calling it.

You can use `btt-node-server` as a specific middleware for calling your actions, and blacklist every action that you don't want to perform (for example `executeScript` or `lockScreen`). For more, see [configuration section](https://worie.github.io/btt/guide/configuration.html). 

_You can [edit this page on GitHub](https://github.com/Worie/btt/blob/master/docs/guide/getting-started.md)._